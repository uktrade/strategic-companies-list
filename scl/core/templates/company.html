{% extends "base.html" %} {% block content %}
<div class="govuk-width-container">
  <main class="govuk-main-wrapper" id="main-content">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <div class="content-header">
          <h1 class="govuk-heading-l scl-content-header-heading govuk-!-margin-bottom-2">{{company_name}}</h1>
          <div class="content-header-buttons">
            <button
              id="edit-button"
              class="govuk-button scl-content-header-button govuk-!-margin-bottom-2"
            >
              Edit
            </button>
            <button
              class="govuk-button scl-content-header-button govuk-!-margin-left-1 govuk-!-margin-bottom-2"
              data-module="govuk-button"
              onclick="window.print()"
            >
              Print
            </button>
          </div>
        </div>
        <p class="govuk-body govuk-body-s">Last updated: 28 Feb. 2025</p>
      </div>
    </div>
    <div class="govuk-grid-row">
      <section class="govuk-grid-column-two-thirds">
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible govuk-!-margin-top-0">
        <h2 class="govuk-heading-m">Key facts</h2>
        <ul class="govuk-list govuk-list--bullet editable">
          <li>Largest UK company in the health sector.</li>
          <li>
            The company employs around 1000 in the UK and 7000 globally.
          </li>
          <li>
            Their activities in developing the skills of their workforce
            include: Science, Technology, Engineering and Math.
          </li>
        </ul>
        <h2 class="govuk-heading-m">Key people</h2>
        <ul class="govuk-list govuk-list--bullet editable">
          <li>Engineer: Mrs Jane Doe, appointed November 2022.</li>
          <li>Data Analyst: Mr John Smith, appointed October 2023.</li>
        </ul>
        {% if is_owner == 'true' %}
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible govuk-section-break--visible govuk-!-margin-bottom-0">
        <span class="govuk-header__security-classification govuk-header__security-classification__long"><strong class="govuk-tag govuk-tag--red scl-privileged">
          PRIVILEGED
        </strong></span>
        <h2 class="govuk-heading-m govuk-!-margin-top-3">Company current issues and priorities</h2>
        <ol class="govuk-list govuk-list--number editable">
          <li>
            <b>Support key exports</b>
            <div>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </li>
          <li>
            <b>Support programme.</b>
            <div>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </li>
          <li>
            <b>International partnerships.</b>
            <div>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </li>
        </ol>
        <h2 class="govuk-heading-m">HMG priorities for engagement</h2>
        <ol class="govuk-list govuk-list--number editable">
          <li>
            <b>Growing exports</b>
            <div>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </li>
          <li>
            <b>Building support programmes</b>
            <div>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </li>
          <li>
            <b>Growing capabilities.</b>
            <div>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </li>
        </ol>
        {% endif %}
      </section>
      {% if is_owner == 'true' %}
      <aside class="govuk-grid-column-one-third" role="complementary">
        <hr class="govuk-section-break govuk-section-break--m govuk-!-margin-top-0 govuk-section-break--visible govuk-!-margin-bottom-0">
        <span class="govuk-header__security-classification govuk-header__security-classification__long"><strong class="govuk-tag govuk-tag--red scl-privileged">
          PRIVILEGED
        </strong></span>
        <h2 class="govuk-heading-s govuk-!-margin-top-4 govuk-!-margin-bottom-2">
          Recent top-level engagements across HMG
        </h2>
        <ul class="govuk-list scl-mobile-list scl-mobile-list-multiline govuk-!-margin-bottom-2">
          <li>
            <a href="#" class="govuk-link govuk-link--no-visited-state scl-list-header-link">
              <div><strong class="govuk-tag govuk-tag--grey govuk-!-font-tabular-numbers scl-date-tag">1 Feb. 2025</strong></div>
              <span class="scl-block-link-text">UK manufacturing round table</span>
            </a
            >
          </li>
          <li>
            <a href="#" class="govuk-link govuk-link--no-visited-state scl-list-header-link">
              <div><strong class="govuk-tag govuk-tag--grey govuk-!-font-tabular-numbers scl-date-tag">23 Jun. 2025</strong></div>
              <span class="scl-block-link-text">France meeting</span>
            </a>
          </li>
          <li>
            <a href="#" class="govuk-link govuk-link--no-visited-state scl-list-header-link">
              <div><strong class="govuk-tag govuk-tag--grey govuk-!-font-tabular-numbers scl-date-tag">10 Dec. 2024</strong></div>
              <span class="scl-block-link-text">Italy meeting</span>
            </a>
          </li>
          <li>
            <a href="#" class="govuk-link govuk-link--no-visited-state scl-list-header-link">
              <div><strong class="govuk-tag govuk-tag--grey govuk-!-font-tabular-numbers scl-date-tag">15 Nov. 2024</strong></div>
              <span class="scl-block-link-text">Aerospace round table</span>
            </a>
          </li>
        </ul>

        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible govuk-!-margin-top-1 govuk-!-margin-bottom-1">
        <p class="govuk-body govuk-body-s govuk-!-margin-top-0 govuk-!-margin-bottom-0"><a href="#" class="govuk-link govuk-link--no-visited-state scl-link-no-underline scl-small">View working-level engagements</a></p>

        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible govuk-!-margin-top-5 govuk-!-margin-bottom-3">
        <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Account managers</h2>
        <ul class="govuk-list scl-small">
          <li><a href="#" class="govuk-link govuk-link--no-visited-state scl-link-no-underline">Joe Smith</a></li>
          <li><a href="#" class="govuk-link govuk-link--no-visited-state scl-link-no-underline">Cara miller</a></li>
          <li><a href="#" class="govuk-link govuk-link--no-visited-state scl-link-no-underline">Loiuse Adams</a></li>
        </ul>
      </aside>
      {% endif %}
    </div>
  </main>
</div>
<script>
  (() => {
    document.addEventListener("DOMContentLoaded", () => {
      const editButton = document.getElementById("edit-button");
      const editableSection = Array.from(document.querySelectorAll('.editable'));
      const main = document.querySelector('main');

      const toggleEdit = () => {
        main.classList.toggle("editing")
        const isEditable = Boolean(document.querySelector('.editing'))
        
        if(isEditable){
          editButton.innerHTML = "Save"
          editableSection.map((item)=>{
            item.setAttribute('contenteditable', true)
          })
        }else{
          editButton.innerHTML = "Edit"
          editableSection.map((item)=>{
            item.removeAttribute('contenteditable')
          })
        }
      };

      editButton.addEventListener("click", toggleEdit);

    });
  })();
</script>
{% endblock %}
