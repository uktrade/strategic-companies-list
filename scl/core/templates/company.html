{% extends "base.html" %} {% block content %}
<div class="govuk-width-container">
  <main class="govuk-main-wrapper" id="main-content">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <div class="content-header">
          <h1 class="govuk-heading-l scl-content-header-heading govuk-!-margin-bottom-2">{{company_name}}</h1>
          <div class="content-header-buttons">
            <button
              id="edit-button"
              class="govuk-button scl-content-header-button govuk-!-margin-bottom-2"
            >
              Edit
            </button>
            <button
              class="govuk-button scl-content-header-button govuk-!-margin-left-1 govuk-!-margin-bottom-2"
              data-module="govuk-button"
              onclick="window.print()"
            >
              Print
            </button>
          </div>
        </div>
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
        <p class="govuk-body govuk-body-s">Last updated: 28 Feb. 2025</p>
      </div>
    </div>
    <div class="govuk-grid-row">
      <section class="govuk-grid-column-two-thirds">
        <div class="card">
          <h2 class="govuk-heading-m">Key facts</h2>
          <ul class="govuk-list govuk-list--bullet">
            <li>Largest UK company in the health sector.</li>
            <li>
              The company employs around 1000 in the UK and 7000 globally.
            </li>
            <li>
              Their activities in developing the skills of their workforce
              include: Science, Technology, Engineering and Math.
            </li>
          </ul>
        </div>
        <div class="card">
          <h2 class="govuk-heading-m">Key people</h2>
          <ul class="govuk-list govuk-list--bullet">
            <li>Engineer: Mrs Jane Doe, appointed November 2022.</li>
            <li>Data Analyst: Mr John Smith, appointed October 2023.</li>
          </ul>
        </div>
        {% if is_owner == 'true' %}
        <div class="card card--private">
          <h2 class="govuk-heading-m">Company current issues and priorities</h2>
          <ol class="govuk-list govuk-list--number">
            <li>
              <b>Support key exports</b>
              <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </li>
            <li>
              <b>Support programme.</b>
              <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </li>
            <li>
              <b>International partnerships.</b>
              <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </li>
          </ol>
        </div>
        <div class="card card--private">
          <h2 class="govuk-heading-m">HMG priorities for engagement</h2>
          <ol class="govuk-list govuk-list--number">
            <li>
              <b>Growing exports</b>
              <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </li>
            <li>
              <b>Building support programmes</b>
              <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </li>
            <li>
              <b>Growing capabilities.</b>
              <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </li>
          </ol>
        </div>
        {% endif %}
      </section>
      {% if is_owner == 'true' %}
      <aside class="govuk-grid-column-one-third" role="complementary">
        <div class="card card--private">
          <h2 class="govuk-heading-m">
            Recent top-level engagements across HMG
          </h2>
          <ul class="govuk-list govuk-list--bullet">
            <li>
              <a href="" class="govuk-link"
                >UK manufacturing round table 01/02/2025</a
              >
            </li>
            <li><a href="" class="govuk-link">France meeting 23/01/2025</a></li>
            <li><a href="" class="govuk-link">Italy meeting 10/12/2024</a></li>
            <li>
              <a href="" class="govuk-link">Aerospace round table 15/11/2024</a>
            </li>
          </ul>
          <a href="#" class="govuk-link govuk-link--no-visited-state">View working-level engagements</a>
        </div>
        <div class="card">
          <h2 class="govuk-heading-m">Account managers</h2>
          <ul class="govuk-list govuk-list--bullet">
            <li><a href="#" class="govuk-link">Joe Smith</a></li>
            <li><a href="#" class="govuk-link">Cara miller</a></li>
            <li><a href="#" class="govuk-link">Loiuse Adams</a></li>
          </ul>
        </div>
      </aside>
      {% endif %}
    </div>
  </main>
</div>
<script>
  (() => {
    document.addEventListener("DOMContentLoaded", () => {
      const editButton = document.getElementById("edit-button");
      const main = document.querySelector('main');
      const editableSection = document.querySelector('section');
      const ulListItems = Array.from(editableSection.querySelectorAll('ul'))
      const olListItems = Array.from(editableSection.querySelectorAll('ol'))
      const listItems = [...ulListItems, ...olListItems]

      const toggleEdit = () => {
        main.classList.toggle("editable")
        const isEditable = Boolean(document.querySelector('.editable'))
        
        if(isEditable){
          editButton.innerHTML = "Save"
          listItems.map((item)=>{
            item.setAttribute('contenteditable', true)
          })
        }else{
          editButton.innerHTML = "Edit"
          listItems.map((item)=>{
            item.removeAttribute('contenteditable')
          })
        }
      };

      editButton.addEventListener("click", toggleEdit);

    });
  })();
</script>
{% endblock %}
